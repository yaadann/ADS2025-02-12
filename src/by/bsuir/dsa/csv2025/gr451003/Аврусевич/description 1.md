# Название

Оптимизация склада с приоритетной обработкой заказов

# Описание

Оптимизация склада с приоритетной обработкой заказов

Складская система автоматизации обрабатывает поступающие заказы. Каждый заказ характеризуется:

- Временем поступления: `arrivalTime`  
- Уровнем приоритета: `priority` (1 — высший, 2 — средний, 3 — низкий)  
- Временем обработки: `processingTime`

Обрабатывающий робот может выполнять только один заказ одновременно. При выборе следующего заказа система руководствуется правилами:

1. Заказ с высшим приоритетом обрабатывается первым.  
2. При одинаковом приоритете выбирается заказ, поступивший раньше.

Необходимо реализовать алгоритм, который определяет:

- Порядок обработки заказов  
- Общее время обработки всех заказов  
- Среднее время ожидания заказов

**Входные данные:**

- Массив `orders` размером n (1 ≤ n ≤ 1000)
- Каждый заказ представлен как `[arrivalTime, priority, processingTime]`
- `0 ≤ arrivalTime ≤ 10^4`
- `priority ∈ {1, 2, 3}`
- `1 ≤ processingTime ≤ 100`

**Выходные данные:**

- Массив индексов заказов в порядке их обработки  
- Общее время выполнения всех заказов  
- Среднее время ожидания с точностью до 2 знаков

**Пример:**

```
Вход: orders = [[0, 2, 5], [2, 1, 3], [4, 3, 2], [6, 1, 4]]
Выход:
  order: [0, 1, 3, 2]
  total: 14
  avg_wait: 3.25
```

# Краткая теория

---
title: Алгоритм планирования с приоритетами
weight: 2
authors:
- Валерия Аврусевич
created: 2025
---

Задача относится к классу алгоритмов планирования процессов в операционных системах. Используется модификация алгоритма *Priority Scheduling* с невытесняющей обработкой.

**Математическая модель:**

Пусть $n$ — количество заказов.

Для заказа $i$:  
- $a_i$ — время поступления,  
- $p_i$ — приоритет,  
- $t_i$ — время обработки.

Время начала обработки:  
$$
s_i = \max(c_{i-1}, a_i),
$$
где $c_{i-1}$ — время завершения предыдущего заказа.

Время ожидания:  
$$
w_i = s_i - a_i
$$

Общее время обработки:  
$$
T = \sum_{i=1}^n t_i
$$

Среднее время ожидания:  
$$
\bar{w} = \frac{1}{n} \sum_{i=1}^n w_i
$$

**Алгоритм:**

- Сортировка заказов по времени поступления — $O(n \log n)$  
- Использование приоритетной очереди для выбора следующего заказа — $O(n \log n)$  
- Компаратор: сначала сравнивает приоритеты, затем время поступления  

**Сложность:** $O(n \log n)$ из-за сортировки и операций с приоритетной очередью.

