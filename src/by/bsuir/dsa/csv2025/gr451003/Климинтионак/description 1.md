# Название

Хеш-таблица с двойным хешированием, удалением и динамическим расширением

# Описание

Хеш-таблица с двойным хешированием, удалением и динамическим расширением

Реализуйте хеш-таблицу, поддерживающую:

* вставку `ADD x`
* поиск `FIND x`
* удаление `DEL x`
* вывод внутреннего состояния `PRINT`

Хеш-таблица использует открытую адресацию с двойным хешированием:
$$
h_1(x) = (a \cdot x + b) \bmod m
$$
$$
h_2(x) = 1 + (c \cdot x + d) \bmod (m - 1)
$$
$$
h(x, k) = (h_1(x) + k \cdot h_2(x)) \bmod m
$$

### Необходимо реализовать

1. **Удаление**
   Освободившаяся ячейка помечается специальным значением `DELETED`.

2. **Саморасширение**
   Если нагрузка таблицы:
$$
\text{load factor} = \frac{\text{число НЕ-пустых ячеек}}{m} \ge 0.7,
$$

то таблица увеличивается до следующего простого числа**, и все элементы перехешируются.

3. **Команды**

```
ADD x     – вставить x
DEL x     – удалить x (если его нет – игнорировать)
FIND x    – вывести индекс или -1
PRINT     – вывести таблицу
```

### Формат вывода

* Каждой `FIND`: вывести индекс или `-1`
* `PRINT`: вывести строки:

```
i: EMPTY
i: DELETED
i: x
```

# Краткая теория

Краткая теория

## 1. Коэффициент загрузки

$$
\alpha = \frac{n}{m}
$$

При $(\alpha > 0.7)$ резко растёт амортизационная стоимость операций, поэтому выполняется rehash — создание новой таблицы.

## 2. Удаление с пометкой

При открытой адресации нельзя просто сделать ячейку пустой:
$$
\text{NULL} \neq \text{DELETED}
$$
Иначе поиск неправильно завершится раньше времени.

## 3. Двойное хеширование

Полный проход таблицы гарантирован, если:

$$
\gcd(h_2(x), m) = 1
$$

Поэтому используется:

$$
h_2(x) = 1 + ((cx + d) \bmod (m - 1))
$$

