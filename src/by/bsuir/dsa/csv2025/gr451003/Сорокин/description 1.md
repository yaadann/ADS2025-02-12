# Название

Сортировка вставками с анализом производительности

# Описание

Сортировка вставками с анализом производительности

## Задача

Реализуйте алгоритм сортировки вставками, который возвращает не только отсортированный массив, но и статистику по операциям:
- Количество сравнений
- Количество перестановок элементов

**Условия:**
- Использовать только стандартную версию сортировки вставками
- Не использовать дополнительные структуры данных для оптимизации
- Ведение точного учета операций

## Формат ввода

Первая строка: целое число n (1 ≤ n ≤ 1000) - размер массива
Вторая строка: n целых чисел через пробел

## Формат вывода

Первая строка: отсортированный массив
Вторая строка: "Сравнения: X, Перестановки: Y"

## Пример

Ввод:
6
5 2 4 6 1 3

Вывод:
1 2 3 4 5 6
Сравнения: 12, Перестановки: 12

## Ограничения

- Временная сложность: O(n²) в худшем случае
- Пространственная сложность: O(1) дополнительной памяти

# Краткая теория

---
title: Сортировка вставками
weight: 2
---

Алгоритм сортировки вставками основан на последовательном расширении отсортированного префикса массива. На каждом шаге мы берем следующий элемент и вставляем его в правильную позицию в уже отсортированной части.

## Алгоритм

На k-ом шаге у нас уже отсортирован префикс длины k. Чтобы увеличить этот отсортированный префикс, мы берем элемент, следующий после него, и меняем его с левым соседом, пока этот элемент не окажется больше своего левого соседа. Когда это происходит, это означает, что он больше всех элементов слева и меньше всех элементов префикса справа, значит мы правильно вставили этот элемент в отсортированную часть массива.

```cpp
void insertion_sort(int *a, int n) {
    for (int k = 1; k < n; k++)
        for (int i = k; i > 0 && a[i - 1] > a[i]; i--)
            // мы ещё не дошли до начала массива и предыдущий элемент больше
            swap(a[i], a[i - 1]);
}

