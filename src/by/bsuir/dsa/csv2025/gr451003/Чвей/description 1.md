# Название

Сортировка кучей

# Описание

Сортировка кучей

Реализуйте алгоритм пирамидальной сортировки (сортировки кучей) для целочисленного массива.

**Формат входных данных:**
- Первая строка: целое число `n` (1 ≤ n ≤ 1000) - количество элементов в массиве.
- Вторая строка: `n` целых чисел, разделенных пробелами - элементы массива.

**Формат выходных данных:**
- Одна строка: отсортированный по возрастанию массив, элементы разделены пробелами.


# Краткая теория

---
title: Сортировка кучей
weight: 3
prerequisites:
- Двоичная куча
- Сортировка выбором
---

**Сортировка кучей** (пирамидальная сортировка) — это эффективный алгоритм сортировки, основанный на структуре данных «двоичная куча». Алгоритм работает за время $O(n \log n)$ в худшем, среднем и лучшем случае и использует $O(1)$ дополнительной памяти.

## Идея алгоритма

Причина, по которой сортировка выбором работает за квадратичное время — это линейный поиск минимума на каждом шаге.

Чтобы оптимизировать время работы алгоритма, мы можем завести специальную структуру данных, которая поддерживает быстрое извлечение минимума из набора неупорядоченных элементов, добавить весь исходный массив в неё, а затем по одному извлекать минимум в новый отсортированный массив.

Это ровно то, что делает двоичная куча — за $O(\log n)$ на операцию. Воспользовавшись ей, получаем алгоритм, работающий за $O(n \log n)$.

## Алгоритм

Сортировка кучей состоит из двух основных этапов:

1. **Построение max-кучи** из исходного массива
2. **Последовательное извлечение максимумов** и перестроение кучи

### Построение кучи

Для построения max-кучи из произвольного массива достаточно применить операцию `sift_down` (пересеивание вниз) ко всем элементам с индексами от $\lfloor n/2 \rfloor$ до $1$:

```cpp
void build_heap() {
    for (int i = n/2; i >= 1; i--) {
        sift_down(i);
    }
}

