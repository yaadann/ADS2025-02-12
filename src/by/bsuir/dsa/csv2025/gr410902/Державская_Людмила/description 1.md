# Название

Побег из охраняемого лабиринта

# Описание

Вы оказались в лабиринте, который охраняют сторожевые собаки. Собаки очень бдительны и могут учуять вас, если вы подойдете слишком близко. Ваша цель — найти кратчайший путь к выходу из лабиринта, оставаясь незамеченным.

### Важные правила:

- Двигаться можно только вверх, вниз, влево и вправо
- Запрещено заходить в клетки, непосредственно соседние с собаками (4 направления: вверху, внизу, слева, справа от собаки)
- Стены непроходимы
- Стартовая позиция и выход всегда безопасны (не находятся рядом с собакой)

### Входные данные:

Карта лабиринта представлена в виде двумерного массива размером N x M клеток.
В первой строке вводится 2 натуральных числа N и M – размер массива.
Далее вводятся N строк, в каждой из которой по M символов.

Символы на карте:
- 'S' — стартовая позиция
- 'E' — выход из лабиринта
- '.' — свободная клетка
- '#' — стена (непроходимое препятствие)
- 'D' — сторожевая собака

### Выходные данные:

Выходная строка содержит одно число: длину кратчайшего пути от 'S' до 'E'. Если путь невозможен, вывести -1.

## Пример

### Sample Input:
3 4
S.D.
...E
#...

### Sample Output:
6




# Краткая теория

Поиск в ширину (англ. breadth-first search) — один из основных алгоритмов на графах, позволяющий находить все кратчайшие пути от заданной вершины и решать многие другие задачи.

Поиск в ширину также называют обходом — так же, как поиск в глубину и все другие обходы, он посещает все вершины графа по одному разу, только в другом порядке: по увеличению расстояния до начальной вершины.

### Описание алгоритма

На вход алгоритма подаётся невзвешенный граф и номер стартовой вершины s. Граф может быть как ориентированным, так и неориентированным — для алгоритма это не важно.

Основную идею алгоритма можно понимать как процесс «поджигания» графа: на нулевом шаге мы поджигаем вершину s, а на каждом следующем шаге огонь с каждой уже горящей вершины перекидывается на всех её соседей, в конечном счете поджигая весь граф.

Если моделировать этот процесс, то за каждую итерацию алгоритма будет происходить расширение «кольца огня» в ширину на единицу. Номер шага, на котором вершина v начинает гореть, в точности равен длине её минимального пути из вершины s.

Моделировать это можно следующим образом. Создадим очередь, в которую будут помещаться горящие вершины, а также заведём булевый массив, в котором для каждой вершины будем отмечать, горит она или нет — или иными словами, была ли она уже посещена. Изначально в очередь помещается только вершина s, которая сразу помечается горящей.

Затем алгоритм представляет собой такой цикл: пока очередь не пуста, достать из её головы одну вершину v, просмотреть все рёбра, исходящие из этой вершины, и если какие-то из смежных вершин u ещё не горят, поджечь их и поместить в конец очереди.

В итоге, когда очередь опустеет, мы по одному разу обойдём все достижимые из s вершины, причём до каждой дойдём кратчайшим путём. Длины кратчайших путей можно посчитать, если завести для них отдельный массив d и при добавлении в очередь пересчитывать по правилу
du=dv+1. Также можно компактно сохранить дополнительную информацию для восстановления самих путей, заведя массив «предков», в котором для каждой вершины хранится номер вершины из которой мы в неё попали.