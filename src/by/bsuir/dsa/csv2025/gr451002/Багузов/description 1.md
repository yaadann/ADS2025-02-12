# Название

Минимальное удаление рёбер для уменьшения потока

# Описание

**Минимальное удаление рёбер для уменьшения потока**

## **Задание**

Вам дан ориентированный граф ( G = (V, E) ) с неотрицательными пропускными способностями рёбер. Известно, что максимальный поток из вершины ( s ) в вершину ( t ) равен ( F ).

Требуется найти _минимальное по количеству_ множество рёбер (R ⊆ E), удаление которого приведёт к тому, что новый максимальный поток в модифицированном графе станет **не больше чем ( F/2 )**.

Иными словами, необходимо минимизировать число удалённых рёбер так, чтобы пропускная способность сети существенно снизилась.
## **Формат входных данных**

- Первая строка: три целых числа  
    ( n ) — число вершин,  
    ( m ) — число рёбер,  
    ( s, t ) — номера источника и стока.
- Следующие ( m ) строк содержат описание рёбер:  
    ( u, v, c ) — ориентированное ребро из ( u ) в ( v ) с пропускной способностью ( c ).
- Гарантируется, что в исходном графе существует поток из ( s ) в ( t ).
- Значение исходного максимального потока ( F ) требуется вычислить самостоятельно.
## **Формат выходных данных**

- Одно число: минимальное количество рёбер, которые необходимо удалить, чтобы максимальный поток стал не больше ( F/2 ).
(Дополнительно по желанию можно вывести сами рёбра, но это не является обязательным.)

## **Замечания и подсказки**

- Обратите внимание, что цель — уменьшить поток **не до нуля**, а **как минимум вдвое**.
- Минимальный разрез полностью блокирует поток, однако удаление его рёбер может быть далеко не минимальным по количеству.
- Рассматривайте разрезы малого веса (≤ ( F/2 )) и ищите среди них такие, которые содержат _минимальное число рёбер_.
- Проанализируйте структуру остаточной сети после вычисления максимального потока — она подсказывает, какие рёбра критичны для поддержания значительной части текущего потока.

# Краткая теория

---
title: Минимальное удаление рёбер для уменьшения потока — краткая теория
authors:
darkon28
---

В задачах на сетевые потоки часто требуется не только найти максимальный поток, но и понять, **насколько устойчива** сеть к локальным изменениям. Одним из подходов является поиск *минимального множества рёбер*, удаление которого существенно снижает способность сети пропускать поток.

Пусть в ориентированном графе дан максимальный поток из `s` в `t`, равный \( F \). Нас интересует, какое минимальное количество рёбер достаточно удалить, чтобы новый максимальный поток стал не больше \( F/2 \). Такая постановка моделирует устойчивость сети к отказам и позволяет анализировать её уязвимые места.

## Основные идеи

### Связь с разрезами
Теорема max-flow min-cut говорит, что величина максимального потока равна минимальной пропускной способности разреза. Однако в этой задаче цель — не обрушить поток полностью, а уменьшить его **хотя бы наполовину**, поэтому стандартный минимальный разрез не всегда является оптимальным по *количеству* рёбер.

### Двукритериальная оптимизация
Мы ищем разрезы, чья суммарная пропускная способность не превышает \( F/2 \), и среди них выбираем такой, где рёбер как можно меньше.  
Это сочетание двух критериев делает задачу существенно сложнее обычного поиска min-cut.

### Остаточная сеть
После вычисления максимального потока полезно анализировать остаточную сеть. Она показывает:
* по каким путям проходит основной поток,
* какие рёбра являются критическими,
* где существуют альтернативные обходы.

Зачастую минимальное по количеству рёбер «узкое место» находится именно через структуру остаточной сети.

## Практические замечания

* Удаление одного ребра может как полностью разрушить пропускной путь, так и почти не повлиять на поток — важно рассматривать глобальную структуру сети.
* Наборы рёбер, уменьшающие поток наполовину, могут быть совсем другими, чем рёбра минимального разреза.
* В реальных сетях такая теория применяется при анализе отказоустойчивости и проектировании критичных инфраструктур.

