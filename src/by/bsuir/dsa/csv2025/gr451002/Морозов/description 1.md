# Название

"Быстрое" умножение

# Описание

"Быстрое" умножение

Умножить два числа в шестнадцатеричной системе счисления за $$O(n^{\\log\_2 3})$$.

## Входные данные

Два неотрицательных шестнадцатеричных числа до 50 разрядов каждое.

## Выходные данные

Произведение двух этих чисел в шестнадцатеричной системе счисления. В случае некорректных входных данных вывести "Error".

## Примеры

**Входные данные №1**

```
1e
2F0
```

**Ответ №1**

```
5820
```

**Входные данные №2**

```
35DA
2K0
```

**Ответ №2**

```
Error
```

# Краткая теория

История

В 1960 году Андрей Колмогоров предложил гипотезу о том, что умножение "в столбик" за $$O(n^2)$$ является асимптотически самым оптимальным алгоритмом умножения чисел. 23-летний Анатолий Карацуба опроверг эту гипотезу, создав алгоритм умножения чисел в любой системе счисления за $$O(n^{\log_2 3}) \approx O(n^{1.58})$$. Этот алгоритм был первым, сумевшим преодолеть асимптотическую сложность в $$O(n^2)$$.

# Алгоритм

Алгоритм работает по методике "разделяй и властвуй". Суть алгоритма заключается в том, что вместо умножения двух чисел длины $$n$$ три раза производится умножение чисел длины $$\frac{n}{2}$$. Таким образом общее время работы алгоритма будет равно:

$$T(n) = 3 \cdot T \left( \frac{n}{2} \right) + O(n) = O(n^{\log_2 3})$$

## Шаг 1

Разбиваем число $$a_0q^0 + a_1q^1 + \ldots + a_{n-1}q^{n-1} + a_nq^n$$ и $$b_0q^0 + b_1q^1 + \ldots + b_{n-1}q^{n-1} + b_nq^n$$ в системе счисления $$q$$ на два многочлена равной длины вида:

$$a(q) = a_1(q) + q^ka_2(q)$$
$$b(q) = b_1(q) + q^kb_2(q)$$

## Шаг 2

Вычисляем многочлены-произведения $$p_1$$ и $$p_2$$:

$$p_1(q) = a_1(q)b_1(q)$$
$$p_2(q) = a_2(q)b_2(q)$$

## Шаг 3

Считаем многочлен $$t$$:

$$t(q) = (a_1(q) + a_2(q)) \cdot (b_1(q) + b_2(q))$$

## Шаг 4

Вычисляем произведение:

$$c(q) = a(q) \cdot b(q) = p_1(q) + q^k \cdot (t(q) - p_1(q) - p_2(q)) + x^{2k} \cdot p_2(q)$$

