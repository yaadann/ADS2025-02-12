# Название

Анализ выигрышных стратегий в игре Pebbles

# Описание

Анализ выигрышных стратегий в игре "Камешки"

## Условие задачи

Мы рассматриваем упрощенный вариант игры.  
В одной кучке находится n камней. Два игрока по очереди делают ходы.  
За один ход игрок может удалить **1, 2 или 3 камня** из кучи.  
Выигрывает игрок, который берет последний камень.

**Задание:**  
Для заданного начального количества камней `n` определите:
1. Является ли позиция ** выигрышной** или ** проигрышной** для текущего игрока (при условии оптимальной игры).
2. Если позиция выигрышная, найдите оптимальный ход (количество камней, которые нужно взять), который гарантирует победу.

Ваша программа должна:
- Считывать начальное количество камней `n` из входных данных.
- Выводить:
    - Само число "n".
    - Является ли позиция выигрышной ("верно"/"ложно")
    - Оптимальный ход (1-3) или "-1", если выигрышного хода не существует

---

## Требования

1. Изучите теоретические основы игры "Камешки".
2. Докажите критерий выигрыша позиции:
    - Позиция считается ** проигрышной**, если число "n" делится на 4.
    - В противном случае она считается ** выигрышной**.
3. Разработайте алгоритм, который:
    - Проверяет, является ли "n% 4 == 0" проигрышной позицией.
    - В противном случае возвращает "n% 4" в качестве выигрышного хода.
4. Приведите примеры работы алгоритма (тестовые примеры).

---

## Формат решения

- Математическое доказательство критерия
- Алгоритм в псевдокоде или Java-реализации
- Примеры вывода программы для различных значений `n`

---

## Примеры

| n   | Winning? | Optimal move |
|-----|----------|--------------|
| 1   | true     | 1            |
| 2   | true     | 2            |
| 3   | true     | 3            |
| 4   | false    | -1           |
| 5   | true     | 1            |
| 6   | true     | 2            |
| 7   | true     | 3            |
| 8   | false    | -1           |
| 9   | true     | 1            |
| 12  | false    | -1           |

# Краткая теория

---
автор: Николай Курейчик
вес: 1
---

# Анализ выигрышных стратегий в игре "Камешки"

## Условие задачи

Рассмотрим следующую игру. Дана ** одна ** стопка, содержащая n камней. Два игрока по очереди делают ходы. За один ход игрок может взять 1, 2 или 3 камня из стопки **. Выигрывает игрок, который берет последний камень.

## Теоретический анализ

### Основные понятия теории комбинаторных игр

Давайте представим формальную классификацию позиций:

- **P-позиция** (проигрышная позиция) - позиция, из которой нет выигрышной стратегии при оптимальной игре противника.
- **N-позиция** (выигрышная позиция) - позиция, из которой существует выигрышная стратегия

**Основные свойства P- и N-позиций:**
1. Конечная позиция (0 камней) является P-позицией.
2. Существует по крайней мере один ход из N-позиции в P-позицию.
3. Из P-позиции все ходы ведут в N-позицию

### Формальная постановка задачи

Определите выигрышную функцию `W: ℕ → {Истина, ложь}`:
- `W(n) = False`, если позиция с n камнями проигрышная (P-позиция)
- `W(n) = True`, если позиция с n камнями выигрышная (N-позиция)

Рекуррентное соотношение для произвольных n ≥ 1:
W(n) = W(n-1) ∨ W(n-2) ∨ W(n-3)

## Заключение

Игра "Камешки" является каноническим примером детерминированной игры с полной информацией, демонстрирующей фундаментальные принципы комбинаторной теории игр. Простота описания выигрышных позиций делает его идеальным объектом для изучения методов комбинаторного анализа игр, включая инвариантный метод, симметричные стратегии и теорию P- и N-позиций.

Полученные результаты имеют практическое значение при разработке игровых алгоритмов, искусственного интеллекта и теории вычислительной сложности игр.

