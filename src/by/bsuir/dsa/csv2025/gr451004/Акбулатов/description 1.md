# Название

Максимальная сумма ДДП в двоичном дереве

# Описание

Максимальная сумма ДДП в двоичном дереве

## Задание

Дано двоичное дерево `root`. Необходимо вернуть максимальную сумму всех ключей любого поддерева, которое также является двоичным деревом поиска (ДДП).


Считать, что ДДП определяется следующим образом:
* Левое поддерево узла содержит только узлы с ключами **меньше** ключа самого узла.
* Правое поддерево узла содержит только узлы с ключами **больше** ключа самого узла.
* И левое, и правое поддеревья также должны быть двоичными деревьями поиска.

Для данной последовательности (представления дерева в виде массива):
1. Построить двоичное дерево.
2. Найти поддерево, являющееся корректным ДДП, с максимальной суммой ключей.
3. Вывести полученную сумму.

> **Замечания:**
> - Ввод осуществляется в формате представления дерева массивом (поуровневый обход), где `null` означает отсутствие узла;
> - Если корректных ДДП с положительной суммой нет, результатом считается 0 (в соответствии с конвенцией задачи, если все суммы отрицательны).

## Пример

- Ввод:<br>
`1 4 3 2 4 2 5 null null null null null null 4 6`
- Ожидаемый вывод:<br>
`20`

# Краткая теория

Теоретические сведения

## Двоичное дерево поиска (ДДП)

### Определение

**Двоичное дерево** — это структура данных, где каждый узел имеет не более двух детей.

**Двоичное дерево поиска (ДДП)** — это особый вид двоичного дерева, для которого выполняются строгие условия упорядочивания. Для любого узла `x`:

1.  Все ключи в **левом** поддереве строго меньше ключа узла `x`.
2.  Все ключи в **правом** поддереве строго больше ключа узла `x`.
3.  Левое и правое поддеревья сами являются валидными ДДП.


### Критерий валидации поддерева

Чтобы проверить, является ли дерево с корнем в узле `x` корректным ДДП, недостаточно просто сравнить `x` с его левым и правым ребенком. Необходимо учитывать диапазоны значений всего поддерева.

Узел `x` является корнем ДДП тогда и только тогда, когда:
1.  Левое поддерево является ДДП (или отсутствует).
2.  Правое поддерево является ДДП (или отсутствует).
3.  Значение `x` больше **максимального** значения в левом поддереве.
4.  Значение `x` меньше **минимального** значения в правом поддереве.

