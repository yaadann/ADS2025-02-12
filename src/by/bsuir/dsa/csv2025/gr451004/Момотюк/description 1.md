# Название

Количество чисел на отрезках

# Описание

Дан массив nums целых чисел длиной n и список запросов queries. Каждый запрос представляет собой пару индексов (l, r). Для каждого запроса необходимо найти количество различных чисел в подмассиве nums[l...r] (включая границы).
Написать функцию, которая возвращает массив ответов на все запросы.

Входные данные:

int[] nums: исходный массив (1 <= n <= 10^5, -10^9 <= nums[i] <= 10^9)

int[][] queries: массив запросов, где queries[i] = [l_i, r_i] (0 <= l_i <= r_i < n, 1 <= количество запросов m <= 10^5)

Выходные данные:

int[]: массив ответов, где ans[i] — количество различных чисел на отрезке queries[i].

# Краткая теория

Алгоритм Мо позволяет эффективно обрабатывать множество запросов на отрезках, когда мы можем быстро обновлять ответ при добавлении/удалении элемента.

Смысл: 
Пусть у нас есть $m$ запросов $Q_i = [l_i, r_i]$. Вместо обработки каждого запроса отдельно за $O(n)$, мы:

Сортируем запросы специальным образом:
Делим массив на блоки размера $k \approx \sqrt{n}$
Сортируем запросы по номеру блока левой границы: $bucket(l_i) = \lfloor \frac{l_i}{k} \rfloor$
Внутри одного блока сортируем по правой границе $r_i$
Используем два указателя $L$ и $R$, которые перемещаем между запросами:

Сложность перемещения: $O((n + m) \cdot \sqrt{n})$
Математическое обоснование
Сложность алгоритма:
Перемещение левого указателя: внутри блока - $O(k)$, между блоками - $O(n)$
Перемещение правого указателя: монотонно в пределах блока - $O(n)$
Общая сложность: $O(m \cdot k + n \cdot \frac{n}{k})$

