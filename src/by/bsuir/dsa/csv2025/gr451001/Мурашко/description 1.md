# Название

Нумизмат

# Описание

Нумизмат

Есть **n** жадных коллекционеров монет, которые согласны меняться, только если взамен монеты, которых у них более одной, они получают монету, которых у них нет вовсе. Всего есть **k** типов монет. Известно количество монет каждого типа у каждого коллекционера и у коллекционера Серёжи. Серёжа хочет максимизировать количество различных монет у него путем обмена с жадными коллекционерами. Считайте, что жадные коллекционеры не меняются между собой.

Придумайте любой полиномиальный алгоритм.

# Краткая теория

Задача об обмене монет - Теория

## Тип задачи
**Паросочетание в двудольном графе с итеративным улучшением**

## Ключевые понятия

### Представление в виде графа
- **Вершины**: Типы монет (k вершин)
- **Рёбра**: Возможные обмены между типами монет
- **Двудольная структура**: "Монеты для получения" ↔ "Монеты для отдачи"

### Условия обмена
Для допустимого обмена (коллекционер отдаёт тип A, получает тип B):
1. `коллекционер[A] ≥ 2` (есть дубликат для обмена)
2. `серёжа[B] ≥ 1` (может отдать этот тип)
3. `коллекционер[B] = 0` (не имеет этого типа)

### Подход алгоритма
1. **Моделируем обмены как рёбра двудольного графа**
2. **Находим максимальное паросочетание** стандартными алгоритмами:
   - Алгоритм Куна (O(k³))
   - Алгоритм Хопкрофта-Карпа (O(k√k))
3. **Итерируем до отсутствия улучшений**

## Анализ сложности
- **Время**: O(n × k³) - полиномиальная
- **Память**: O(k²) для хранения графа

## Почему это работает
- Каждое ребро в паросочетании = один успешный обмен
- Обмены независимы и коммутативны
- Итерация гарантирует исследование всех возможных цепочек обменов
- Ограничения жадных коллекционеров соблюдаются

## Оптимизационная идея
Задача сводится к нахождению максимального количества непересекающихся циклов обменов в ориентированном мультиграфе, где узлы представляют типы монет, а рёбра - возможные обмены через разных коллекционеров.

