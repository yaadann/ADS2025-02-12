# Название

Подсчет суммы элементов в подмассиве

# Описание

Даны массив целых чисел и несколько запросов. Каждый запрос задает подмассив (последовательный отрезок) массива. Необходимо для каждого запроса вывести сумму всех элементов в указанном подмассиве.

# Краткая теория

Префиксные суммы (Prefix Sums)

## Определение

**Префиксные суммы** — это техника предобработки массива, которая позволяет быстро отвечать на запросы о сумме элементов на отрезке.

Для массива $a[1..n]$ массив префиксных сумм $prefix[0..n]$ определяется следующим образом:

$$prefix[0] = 0$$

$$prefix[i] = \sum_{j=1}^{i} a[j] = a[1] + a[2] + \ldots + a[i]$$

## Построение префиксных сумм

Массив префиксных сумм строится за $O(n)$ времени:

$$prefix[i] = prefix[i-1] + a[i]$$

## Ответ на запрос

Для запроса о сумме элементов на отрезке $[l, r]$ (1-indexed, включительно) используется формула:

$$sum(l, r) = prefix[r] - prefix[l-1]$$

**Временная сложность:** $O(1)$ на один запрос

## Пример

Пусть дан массив: $a = [1, 4, 2, 10, 3]$

Построим префиксные суммы:
- $prefix[0] = 0$
- $prefix[1] = 1$
- $prefix[2] = 1 + 4 = 5$
- $prefix[3] = 5 + 2 = 7$
- $prefix[4] = 7 + 10 = 17$
- $prefix[5] = 17 + 3 = 20$

Запрос суммы на отрезке $[2, 4]$:
$$sum(2, 4) = prefix[4] - prefix[1] = 17 - 1 = 16$$

Проверка: $4 + 2 + 10 = 16$ ✓

## Общая сложность

- **Предобработка:** $O(n)$
- **Ответ на $q$ запросов:** $O(q)$
- **Итого:** $O(n + q)$

