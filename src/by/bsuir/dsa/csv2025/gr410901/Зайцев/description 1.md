# Название

Оптимизация маршрута курьера

# Описание

Оптимизация маршрута курьера

## Текст задания

Компания доставки хочет оптимизировать маршруты курьеров по району города.  
Курьер должен пройти **каждую улицу ровно один раз**, начиная и заканчивая в одной точке.  
Нужно найти такой маршрут или сообщить, что он невозможен.

Дан **неориентированный граф**, в котором каждая вершина — перекресток, а ребро — улица.  
Найдите **маршрут, проходящий через каждое ребро ровно один раз и возвращающийся в исходную вершину.**

**Формат ввода:**
- Первая строка: `n, m` — число вершин и рёбер
- Далее *m* строк: `u, v` — ребро между вершинами `u` и `v`

**Пример :**
3 3
0 1
1 2
2 0

**Формат вывода:**  
- Если маршрут существует, выведите последовательность вершин, образующую маршрут.  
- Если маршрута нет — выведите `NO `.

**Пример :**
0 1 2 0

# Краткая теория


## Эйлеров цикл

Пусть задан неориентированный граф  
$$
G = (V, E),
$$  
где $V$ — множество вершин, $E$ — множество рёбер.  

**Эйлеров цикл** — это цикл, который проходит через **каждое ребро ровно один раз** и возвращается в исходную вершину.  

### Условия существования Эйлерова цикла:

1. Граф связен (для всех вершин с ненулевой степенью существует путь между ними).  
2. Каждая вершина имеет чётную степень:  
$$
\deg(v) \mod 2 = 0 \quad \forall v \in V
$$

### Алгоритм Иерархолзера:

1. Выбираем стартовую вершину $v_0 \in V$ с ненулевой степенью.  
2. Пока существуют непосещённые рёбра, идём по ним и добавляем вершины в цикл после возврата.  
3. После обработки всех рёбер получаем полный Эйлеров цикл $C$:  
$$
C = (v_0, v_1, \dots, v_k, v_0)
$$


**Эйлеровы циклы помогают:**
- анализировать структуру графа и проверять связность,
- планировать маршруты, логистику, инспекции сетей,
- оптимизировать задачи, где необходимо пройти по каждому соединению ровно один раз (улицы, маршруты, линии связи).

---

## Сложность

- Построение списка смежности: O(n + m)  
- Алгоритм Иерархолзера: **O(m)** — каждое ребро посещается один раз  
- Итоговая сложность: **O(n + m)**



